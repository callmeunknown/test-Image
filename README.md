# API Testing Project

Проект автоматизированного тестирования REST API и WebSocket сервиса управления задачами (TODO).

## Технологии

- Playwright
- TypeScript
- Allure для отчетов
- WebSocket для тестирования real-time уведомлений

## Структура проекта

```
├── tests/
│   ├── testGET.spec.ts     # Тесты GET /todos
│   │   ├── Получение всех задач
│   │   ├── Пагинация с limit
│   │   ├── Пагинация с offset
│   │   ├── Комбинация limit и offset
│   │   └── Обработка невалидных параметров
│   │
│   ├── testPOST.spec.ts    # Тесты POST /todos
│   │   ├── Создание новой задачи
│   │   ├── Дубликат id
│   │   ├── Отсутствие обязательных полей
│   │   ├── Невалидные типы данных
│   │   └── Валидация полей
│   │
│   ├── testPUT.spec.ts     # Тесты PUT /todos/:id
│   │   ├── Обновление задачи
│   │   ├── Несуществующий id
│   │   ├── Отсутствие полей
│   │   ├── Невалидные типы
│   │   └── Частичное обновление
│   │
│   ├── testDELETE.spec.ts  # Тесты DELETE /todos/:id
│   │   ├── Удаление задачи
│   │   ├── Несуществующий id
│   │   ├── Повторное удаление
│   │   ├── Невалидный формат id
│   │   └── Авторизация
│   │
│   ├── testWS.spec.ts      # Тесты WebSocket /ws
│   │   ├── Уведомления о новых задачах
│   │   ├── Множественные уведомления
│   │   ├── Длительное соединение
│   │   ├── Переподключение
│   │   └── Структура сообщений
│   │
│   └── performance.spec.ts  # Тесты производительности
│
├── playwright.config.ts    # Конфигурация Playwright
└── package.json           # Зависимости проекта
```

## Тестируемые эндпоинты

### REST API
- GET /todos - получение списка задач
- POST /todos - создание новой задачи
- PUT /todos/:id - обновление существующей задачи
- DELETE /todos/:id - удаление задачи

### WebSocket
- ws://localhost:8080/ws - получение уведомлений о новых задачах

### Тесты производительности
- Измерение времени ответа одиночных запросов
- Тестирование параллельных запросов
- Нагрузочное тестирование с последовательными батчами

## Установка и запуск

```bash
# Установка зависимостей
npm install

# Запуск всех тестов
npx playwright test

# Запуск конкретного набора тестов
npx playwright test testGET.spec.ts

# Запуск тестов производительности
npx playwright test performance.spec.ts

# Генерация Allure отчета
npx allure generate allure-results -o allure-report
npx allure open allure-report
```

## Особенности реализации

- Атомарные тесты с независимой подготовкой данных
- Подробное логирование в Allure
- Проверка граничных случаев и обработки ошибок
- Тестирование WebSocket уведомлений
- Типизация для улучшения поддержки кода
- Метрики производительности для POST запросов

## Требования

- Запущенный тестируемый сервис на localhost:8080